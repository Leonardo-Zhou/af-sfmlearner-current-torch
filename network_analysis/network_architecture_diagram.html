<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SfM Learner ç½‘ç»œæ¶æ„å›¾</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .content {
            padding: 30px;
        }
        .diagram-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        .network-section {
            margin: 30px 0;
            padding: 20px;
            border-left: 4px solid #007bff;
            background: #f8f9fa;
            border-radius: 5px;
        }
        h1, h2 {
            margin: 0 0 15px 0;
        }
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .legend-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        .color-box {
            width: 20px;
            height: 20px;
            display: inline-block;
            margin-right: 10px;
            border-radius: 3px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  SfM Learner ç½‘ç»œæ¶æ„å¯è§†åŒ–</h1>
            <p>å®Œæ•´çš„ç½‘ç»œæ•°æ®æµä¸æ¶æ„å›¾</p>
        </div>
        
        <div class="content">
            <div class="network-section">
                <h2>ğŸ“Š 1. æ•´ä½“ç½‘ç»œæ¶æ„ï¼ˆå«Spatial Transformerï¼‰</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph TD
                            subgraph "SfM Learner å®Œæ•´ç³»ç»Ÿæ¶æ„"
                                A["è¾“å…¥å›¾åƒ<br/>[B, 3Ã—N, H, W]"] --> B["ResNetEncoder"]
                                B --> C["å¤šå°ºåº¦ç‰¹å¾"]
                                C --> D["DepthDecoder"]
                                C --> E["PoseDecoder"]
                                C --> F["PositionDecoder"]
                                C --> G["TransformDecoder"]
                                
                                D --> H["æ·±åº¦å›¾<br/>4ä¸ªå°ºåº¦"]
                                E --> I["å§¿æ€å‚æ•°<br/>è½´è§’+å¹³ç§»"]
                                F --> J["å…‰æµåœº<br/>4ä¸ªå°ºåº¦"]
                                G --> K["å¤–è§‚æµ<br/>4ä¸ªå°ºåº¦"]
                                
                                subgraph "Spatial Transformer æ ¸å¿ƒè¿æ¥"
                                ST_Depth["Spatial Transformer<br/>æ·±åº¦æŠ•å½±"]
                                ST_Flow["Spatial Transformer<br/>å…‰æµé‡å»º"]
                                ST_App["Spatial Transformer<br/>å¤–è§‚å˜æ¢"]
                            end
                            
                            H --> ST_Depth
                            I --> ST_Depth
                            J --> ST_Flow
                            K --> ST_App
                            
                            ST_Depth --> Synthesis["åˆæˆå›¾åƒ<br/>[B,3Ã—(N-1),H,W]"]
                            ST_Flow --> Synthesis
                            ST_App --> Synthesis
                            
                            Synthesis --> Loss["å…‰åº¦ä¸€è‡´æ€§æŸå¤±"]
                            A --> Loss
                            end
                            
                            style A fill:#ff6b6b,stroke:#c92a2a,color:#fff
                            style B fill:#4ecdc4,stroke:#2b8a9e,color:#fff
                            style C fill:#45b7d1,stroke:#1864ab,color:#fff
                            style D fill:#96ceb4,stroke:#2d6a4f,color:#fff
                            style E fill:#ffeaa7,stroke:#e17055,color:#000
                            style F fill:#dda0dd,stroke:#8b008b,color:#fff
                            style G fill:#98d8c8,stroke:#2d6a4f,color:#000
                            style H fill:#f7dc6f,stroke:#b8860b,color:#000
                            style I fill:#bb8fce,stroke:#8e44ad,color:#fff
                            style J fill:#85c1e9,stroke:#2874a6,color:#fff
                            style K fill:#82e0aa,stroke:#239b56,color:#000
                            style ST_Depth fill:#f9ca24,stroke:#b8860b,color:#000
                            style ST_Flow fill:#f9ca24,stroke:#b8860b,color:#000
                            style ST_App fill:#f9ca24,stroke:#b8860b,color:#000
                            style Synthesis fill:#6c5ce7,stroke:#4834d4,color:#fff
                            style Loss fill:#ff6b6b,stroke:#c92a2a,color:#fff
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ—ï¸ 2. ResNetEncoder è¯¦ç»†ç»“æ„</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph TD
                            subgraph "ResNetEncoder-18 è¯¦ç»†ç»“æ„"
                                A1["è¾“å…¥<br/>[B,3Ã—N,H,W]"] --> B1["Conv1<br/>[B,64,H/2,W/2]<br/>7Ã—7, stride=2"]
                                B1 --> C1["BatchNorm+ReLU"] 
                                C1 --> D1["MaxPool<br/>[B,64,H/4,W/4]<br/>3Ã—3, stride=2"]
                                
                                D1 --> E1["Layer1<br/>[B,64,H/4,W/4]<br/>BasicBlockÃ—2"]
                                E1 --> F1["Layer2<br/>[B,128,H/8,W/8]<br/>BasicBlockÃ—2<br/>stride=2"]
                                F1 --> G1["Layer3<br/>[B,256,H/16,W/16]<br/>BasicBlockÃ—2<br/>stride=2"]
                                G1 --> H1["Layer4<br/>[B,512,H/32,W/32]<br/>BasicBlockÃ—2<br/>stride=2"]
                                
                                E1 --> I1["ç‰¹å¾0<br/>[B,64,H/4,W/4]"]
                                F1 --> J1["ç‰¹å¾1<br/>[B,128,H/8,W/8]"]
                                G1 --> K1["ç‰¹å¾2<br/>[B,256,H/16,W/16]"]
                                H1 --> L1["ç‰¹å¾3<br/>[B,512,H/32,W/32]"]
                                H1 --> M1["ç‰¹å¾4<br/>[B,512,H/32,W/32]"]
                            end
                            
                            subgraph "BasicBlockç»“æ„"
                                BB1["è¾“å…¥x"] --> BB2["Conv3Ã—3<br/>BatchNorm<br/>ReLU"]
                                BB2 --> BB3["Conv3Ã—3<br/>BatchNorm"]
                                BB3 --> BB4["+ x<br/>ReLU"]
                                BB4 --> BB5["è¾“å‡º"]
                            end
                            
                            style A1 fill:#ff6b6b,stroke:#c92a2a,color:#fff
                            style B1 fill:#4ecdc4,stroke:#2b8a9e,color:#fff
                            style D1 fill:#45b7d1,stroke:#1864ab,color:#fff
                            style E1 fill:#96ceb4,stroke:#2d6a4f,color:#fff
                            style F1 fill:#ffeaa7,stroke:#e17055,color:#000
                            style G1 fill:#dda0dd,stroke:#8b008b,color:#fff
                            style H1 fill:#98d8c8,stroke:#2d6a4f,color:#000
                            style I1 fill:#f7dc6f,stroke:#b8860b,color:#000
                            style J1 fill:#bb8fce,stroke:#8e44ad,color:#fff
                            style K1 fill:#85c1e9,stroke:#2874a6,color:#fff
                            style L1 fill:#82e0aa,stroke:#239b56,color:#000
                            style M1 fill:#f8c471,stroke:#b8860b,color:#000
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ” 3. DepthDecoder U-Netæ¶æ„</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph TD
                            subgraph "DepthDecoder U-Net è¯¦ç»†ç»´åº¦"
                                A2["è¾“å…¥<br/>[B,512,H/32,W/32]"] --> B2["Conv0<br/>[B,256,H/32,W/32]<br/>Conv3Ã—3+ReLU"]
                                B2 --> C2["Upsample<br/>[B,256,H/16,W/16]<br/>nearestÃ—2"]
                                C2 --> D2["Concat<br/>[B,512,H/16,W/16]<br/>+ skipè¿æ¥"]
                                D2 --> E2["Conv1<br/>[B,256,H/16,W/16]<br/>Conv3Ã—3+ReLU"]
                                
                                E2 --> F2["Conv2<br/>[B,128,H/16,W/16]<br/>Conv3Ã—3+ReLU"]
                                F2 --> G2["Upsample<br/>[B,128,H/8,W/8]<br/>nearestÃ—2"]
                                G2 --> H2["Concat<br/>[B,256,H/8,W/8]<br/>+ skipè¿æ¥"]
                                H2 --> I2["Conv3<br/>[B,128,H/8,W/8]<br/>Conv3Ã—3+ReLU"]
                                
                                I2 --> J2["Conv4<br/>[B,64,H/8,W/8]<br/>Conv3Ã—3+ReLU"]
                                J2 --> K2["Upsample<br/>[B,64,H/4,W/4]<br/>nearestÃ—2"]
                                K2 --> L2["Concat<br/>[B,128,H/4,W/4]<br/>+ skipè¿æ¥"]
                                L2 --> M2["Conv5<br/>[B,64,H/4,W/4]<br/>Conv3Ã—3+ReLU"]
                                
                                M2 --> N2["Conv6<br/>[B,32,H/4,W/4]<br/>Conv3Ã—3+ReLU"]
                                N2 --> O2["Upsample<br/>[B,32,H/2,W/2]<br/>nearestÃ—2"]
                                O2 --> P2["Concat<br/>[B,96,H/2,W/2]<br/>+ skipè¿æ¥"]
                                P2 --> Q2["Conv7<br/>[B,32,H/2,W/2]<br/>Conv3Ã—3+ReLU"]
                                
                                Q2 --> R2["Conv8<br/>[B,16,H/2,W/2]<br/>Conv3Ã—3+ReLU"]
                                R2 --> S2["Upsample<br/>[B,16,H,W]<br/>nearestÃ—2"]
                                S2 --> T2["Conv9<br/>[B,16,H,W]<br/>Conv3Ã—3+ReLU"]
                                
                                T2 --> U2["DispConv<br/>[B,1,H,W]<br/>Sigmoidæ¿€æ´»"]
                                
                                T2 --> V2["DispConv_s1<br/>[B,1,H/2,W/2]<br/>Sigmoidæ¿€æ´»"]
                                T2 --> W2["DispConv_s2<br/>[B,1,H/4,W/4]<br/>Sigmoidæ¿€æ´»"]
                                T2 --> X2["DispConv_s3<br/>[B,1,H/8,W/8]<br/>Sigmoidæ¿€æ´»"]
                            end
                            
                            subgraph "è·³è·ƒè¿æ¥ - ä¸ResNetEncoderç»Ÿä¸€é¢œè‰²"
                                S3["ç‰¹å¾3<br/>[B,256,H/16,W/16]<br/>æ¥è‡ªResNet Layer3"] --> D2
                                S4["ç‰¹å¾2<br/>[B,128,H/8,W/8]<br/>æ¥è‡ªResNet Layer2"] --> H2
                                S5["ç‰¹å¾1<br/>[B,64,H/4,W/4]<br/>æ¥è‡ªResNet Layer1"] --> L2
                                S6["ç‰¹å¾0<br/>[B,64,H/2,W/2]<br/>æ¥è‡ªResNet Conv1"] --> P2
                            end
                            
                            style A2 fill:#ff6b6b,stroke:#c92a2a,color:#fff
                            style U2 fill:#4ecdc4,stroke:#2b8a9e,color:#fff
                            style V2 fill:#45b7d1,stroke:#1864ab,color:#fff
                            style W2 fill:#96ceb4,stroke:#2d6a4f,color:#fff
                            style X2 fill:#ffeaa7,stroke:#e17055,color:#000
                            style S3 fill:#dda0dd,stroke:#8b008b,color:#fff
                            style S4 fill:#85c1e9,stroke:#2874a6,color:#fff
                            style S5 fill:#82e0aa,stroke:#239b56,color:#000
                            style S6 fill:#f8c471,stroke:#b8860b,color:#000
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ¯ 4. PoseDecoder æ¶æ„ (è´ªåƒè›‡å¼å¸ƒå±€)</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph LR
                            subgraph "PoseDecoder è´ªåƒè›‡å¼å¸ƒå±€"
                                A3["è¾“å…¥ç‰¹å¾<br/>[B,512,H/32,W/32]"] --> B3["Squeeze<br/>[B,256,H/32,W/32]<br/>1Ã—1 Conv, ReLU"]
                                B3 --> C3["Concat<br/>[B,256Ã—N,H/32,W/32]<br/>å¤šå¸§ç‰¹å¾æ‹¼æ¥"]
                                C3 --> D3["Pose_0<br/>[B,256,H/32,W/32]<br/>3Ã—3 Conv, ReLU"]
                                D3 --> E3["Pose_1<br/>[B,256,H/32,W/32]<br/>3Ã—3 Conv, ReLU"]
                                E3 --> F3["Pose_2<br/>[B,6Ã—(N-1),H/32,W/32]<br/>1Ã—1 Conv"]
                                F3 --> G3["GlobalAvgPool<br/>[B,6Ã—(N-1),1,1]<br/>ç©ºé—´ç»´åº¦å¹³å‡"]
                                G3 --> H3["Reshape<br/>[B,N-1,1,6]<br/>å§¿æ€å‚æ•°"]
                                H3 --> I3["Split<br/>[B,N-1,1,3] + [B,N-1,1,3]<br/>axisangle + translation"]
                            end
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ”„ 5. Spatial Transformer å·¥ä½œæµç¨‹</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph TD
                            subgraph "Spatial Transformer åœ¨SfM Learnerä¸­çš„å®Œæ•´åº”ç”¨"
                                
                                subgraph "1. æ·±åº¦æŠ•å½±åº”ç”¨"
                                    Depth_Input["æ·±åº¦å›¾<br/>[B,1,H,W]"] --> Depth_3D["BackprojectDepth<br/>3Dç‚¹äº‘"]
                                    Pose_Input["å§¿æ€å‚æ•°<br/>[B,6]"] --> Depth_Extrinsic["ç›¸æœºå¤–å‚çŸ©é˜µ"]
                                    Depth_3D --> Depth_Project["Project3D<br/>2DæŠ•å½±"]
                                    Depth_Extrinsic --> Depth_Project
                                    Depth_Project --> Depth_ST["SpatialTransformer<br/>æ·±åº¦æŠ•å½±"]
                                    Source_Img["æºå›¾åƒ<br/>[B,3,H,W]"] --> Depth_ST
                                    Depth_ST --> Depth_Output["åˆæˆå›¾åƒ<br/>[B,3,H,W]"]
                                end
                                
                                subgraph "2. å…‰æµé‡å»ºåº”ç”¨"
                                    Flow_Input["å…‰æµåœº<br/>[B,2,H,W]"] --> Flow_Grid["ç”Ÿæˆé‡‡æ ·ç½‘æ ¼<br/>[B,H,W,2]"]
                                    Target_Img["ç›®æ ‡å›¾åƒ<br/>[B,3,H,W]"] --> Flow_ST["SpatialTransformer<br/>å…‰æµé‡å»º"]
                                    Flow_Grid --> Flow_ST
                                    Flow_ST --> Flow_Output["å˜å½¢å›¾åƒ<br/>[B,3,H,W]"]
                                end
                                
                                subgraph "3. å¤–è§‚å˜æ¢åº”ç”¨"
                                    App_Input["å¤–è§‚æµ<br/>[B,3,H,W]"] --> App_ST["SpatialTransformer<br/>å¤–è§‚å˜æ¢"]
                                    Source_App["æºå›¾åƒ<br/>[B,3,H,W]"] --> App_ST
                                    App_ST --> App_Output["å˜æ¢å›¾åƒ<br/>[B,3,H,W]"]
                                end
                                
                                subgraph "4. å¤šå°ºåº¦ç»Ÿä¸€åº”ç”¨"
                                    Scale0["Scale 0<br/>[B,3,H,W]"] --> ST0["ST@Scale0"]
                                    Scale1["Scale 1<br/>[B,3,H/2,W/2]"] --> ST1["ST@Scale1"]
                                    Scale2["Scale 2<br/>[B,3,H/4,W/4]"] --> ST2["ST@Scale2"]
                                    Scale3["Scale 3<br/>[B,3,H/8,W/8]"] --> ST3["ST@Scale3"]
                                end
                            end
                            
                            subgraph "æŠ€æœ¯å®ç°ç»†èŠ‚"
                                IMPL["layers.py<br/>SpatialTransformerç±»"] --> METHOD["forward()æ–¹æ³•"]
                                METHOD --> GRID["ç”Ÿæˆé‡‡æ ·ç½‘æ ¼<br/>meshgrid + flow"]
                                GRID --> SAMPLE["grid_sample()<br/>åŒçº¿æ€§æ’å€¼"]
                                SAMPLE --> OUTPUT["è¾“å‡ºå˜æ¢åå›¾åƒ"]
                            end
                            
                            style Depth_Input fill:#45b7d1,stroke:#2c3e50,color:#fff
                            style Flow_Input fill:#ffeaa7,stroke:#d35400,color:#000
                            style App_Input fill:#dda0dd,stroke:#8b008b,color:#fff
                            style Depth_ST fill:#f9ca24,stroke:#b8860b,color:#000
                            style Flow_ST fill:#f9ca24,stroke:#b8860b,color:#000
                            style App_ST fill:#f9ca24,stroke:#b8860b,color:#000
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ“ˆ 6. å¤šå°ºåº¦è¾“å‡ºç»“æ„</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph TD
                            subgraph "å¤šå°ºåº¦è¾“å‡º (Scale 0-3)"
                                MS0["Scale 0<br/>Full Resolution<br/>DispConv_s0<br/>[B,1,H,W]"]
                                MS1["Scale 1<br/>Half Resolution<br/>DispConv_s1<br/>[B,1,H/2,W/2]"]
                                MS2["Scale 2<br/>Quarter Resolution<br/>DispConv_s2<br/>[B,1,H/4,W/4]"]
                                MS3["Scale 3<br/>Eighth Resolution<br/>DispConv_s3<br/>[B,1,H/8,W/8]"]
                                
                                subgraph "Spatial Transformer åº”ç”¨"
                                    ST_APP1["Scale 0<br/>ST: [B,3,H,W] â†’ [B,3,H,W]"]
                                    ST_APP2["Scale 1<br/>ST: [B,3,H/2,W/2] â†’ [B,3,H/2,W/2]"]
                                    ST_APP3["Scale 2<br/>ST: [B,3,H/4,W/4] â†’ [B,3,H/4,W/4]"]
                                    ST_APP4["Scale 3<br/>ST: [B,3,H/8,W/8] â†’ [B,3,H/8,W/8]"]
                                end
                            end
                            
                            subgraph "å…‰æµè¾“å‡º"
                                OF0["Scale 0<br/>Optical Flow<br/>[B,2,H,W]"]
                                OF1["Scale 1<br/>Optical Flow<br/>[B,2,H/2,W/2]"]
                                OF2["Scale 2<br/>Optical Flow<br/>[B,2,H/4,W/4]"]
                                OF3["Scale 3<br/>Optical Flow<br/>[B,2,H/8,W/8]"]
                            end
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ¨ 7. é¢œè‰²å›¾ä¾‹ä¸ç»Ÿä¸€æ ‡å‡†</h2>
                <div class="legend">
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #ff6b6b;"></div>
                        <span>è¾“å…¥å±‚ (Input)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #4ecdc4;"></div>
                        <span>è¾“å‡ºå±‚ (Output)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #45b7d1;"></div>
                        <span>å·ç§¯å±‚ (Conv)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #96ceb4;"></div>
                        <span>è·³è·ƒè¿æ¥ (Skip Connection)<br/><small>ä¸ResNetEncoderç‰¹å¾å›¾é¢œè‰²ä¸€è‡´</small></span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #ffeaa7;"></div>
                        <span>ä¸Šé‡‡æ · (Upsample)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #dda0dd;"></div>
                        <span>æ± åŒ–å±‚ (Pooling)</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #f9ca24;"></div>
                        <span>Spatial Transformer</span>
                    </div>
                    <div class="legend-item">
                        <div class="color-box" style="background-color: #6c5ce7;"></div>
                        <span>ResNetç‰¹å¾å›¾</span>
                    </div>
                </div>
            </div>

            <div class="network-section">
                <h2>ğŸ“Š 8. å‚æ•°å¯¹æ¯”è¡¨</h2>
                <div class="diagram-container">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #007bff; color: white;">
                                <th style="padding: 12px; text-align: left;">ç½‘ç»œç»„ä»¶</th>
                                <th style="padding: 12px; text-align: left;">è¾“å…¥å°ºå¯¸</th>
                                <th style="padding: 12px; text-align: left;">è¾“å‡ºå°ºå¯¸</th>
                                <th style="padding: 12px; text-align: left;">å‚æ•°é‡</th>
                                <th style="padding: 12px; text-align: left;">è®¡ç®—å¤æ‚åº¦</th>
                                <th style="padding: 12px; text-align: left;">ä¸»è¦ç”¨é€”</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">ResNetEncoder-18</td>
                                <td style="padding: 12px;">[B,3Ã—N,H,W]</td>
                                <td style="padding: 12px;">5ä¸ªå°ºåº¦ç‰¹å¾</td>
                                <td style="padding: 12px;">11.2M</td>
                                <td style="padding: 12px;">O(HÃ—WÃ—C)</td>
                                <td style="padding: 12px;">ç‰¹å¾æå–</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">DepthDecoder</td>
                                <td style="padding: 12px;">5ä¸ªå°ºåº¦ç‰¹å¾</td>
                                <td style="padding: 12px;">4å°ºåº¦æ·±åº¦å›¾</td>
                                <td style="padding: 12px;">~1.5M</td>
                                <td style="padding: 12px;">O(HÃ—WÃ—C)</td>
                                <td style="padding: 12px;">æ·±åº¦ä¼°è®¡</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">PoseDecoder</td>
                                <td style="padding: 12px;">[B,512Ã—N,H/32,W/32]</td>
                                <td style="padding: 12px;">[B,N-1,1,6]</td>
                                <td style="padding: 12px;">~0.3M</td>
                                <td style="padding: 12px;">O(H/32Ã—W/32Ã—C)</td>
                                <td style="padding: 12px;">å§¿æ€ä¼°è®¡</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">PositionDecoder</td>
                                <td style="padding: 12px;">5ä¸ªå°ºåº¦ç‰¹å¾</td>
                                <td style="padding: 12px;">4å°ºåº¦å…‰æµ</td>
                                <td style="padding: 12px;">~1.5M</td>
                                <td style="padding: 12px;">O(HÃ—WÃ—C)</td>
                                <td style="padding: 12px;">å…‰æµä¼°è®¡</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">TransformDecoder</td>
                                <td style="padding: 12px;">5ä¸ªå°ºåº¦ç‰¹å¾</td>
                                <td style="padding: 12px;">4å°ºåº¦å¤–è§‚æµ</td>
                                <td style="padding: 12px;">~1.5M</td>
                                <td style="padding: 12px;">O(HÃ—WÃ—C)</td>
                                <td style="padding: 12px;">å¤–è§‚å˜æ¢</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #ddd;">
                                <td style="padding: 12px;">SpatialTransformer</td>
                                <td style="padding: 12px;">[B,3,H,W] + [B,2,H,W]</td>
                                <td style="padding: 12px;">[B,3,H,W]</td>
                                <td style="padding: 12px;">0.0M</td>
                                <td style="padding: 12px;">O(HÃ—WÃ—C)</td>
                                <td style="padding: 12px;">ç©ºé—´å˜æ¢</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>
</html>